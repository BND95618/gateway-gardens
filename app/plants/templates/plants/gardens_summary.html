<!-- /app/plants/templates/plants/gardens_summary.html -->
{% extends "plants/master.html" %}

{% block title %}
  <title>My Garden | Summary</title>
{% endblock title %}

{% block css %}
  <!-- Insert template css here -->
  <style>
    .mySlides {display:none}
    .w3-left, .w3-right, .w3-badge {cursor:pointer}
    .w3-badge {height:13px;width:13px;padding:0}
    .header {
      position: fixed;
      top: 0;
      width: 100%;
      color: white;
      text-align: left;
    }
    .footer {
      position: fixed;
      left: 0;
      bottom: 0;
      width: 100%;
      color: white;
      text-align: center;
    }
  </style>
{% endblock css %}

{% block header-completion %}
<!-- complete the header from master.html -->
    <div class="w3-bar w3-green">
      <div class="w3-dropdown-hover">
        <button class="w3-button w3-green">Menu</button>
        <div class="w3-dropdown-content w3-bar-block w3-card-4">
          <a href="{% url 'plants:gardens_update' garden.id %}" class="w3-bar-item w3-button">Update</a> 
          <!-- AR: Add update functionality -->
          <!-- AR: Add delete functionality -->
          <a href="#" class="w3-bar-item w3-button">Delete</a>
        </div>
      </div>
      <h1 class="w3-bar-item">{{ garden.name }}</h1>
    </div>
  </div>
{% endblock header-completion %}

{% block content %}
<!-- main content -->
  <div class="w3-container" style="margin-top:150px; margin-bottom:32px;">
    <!-- Check to see it there are any images to display -->
    {% if not garden.image_1 and not garden.image_2 and not garden.image_3 and not garden.image_4 and not garden.image_5 and not garden.image_6 and not garden.image_7 and not garden.image_8 %}
      <h3>
        No garden photos to display
        <br>
        Please select 'Menu -> Update' to add photos of your garden
        <br>
      </h3>
    {% else %}
      <!-- Load images for display -->
      <div class="w3-content w3-display-container" style="max-width:900px">
        <!-- Load the images -->
        {% if garden.image_1 %}
          <div class="mySlides">
            <img src="{{ garden.image_1.url }}" alt="No garden image found" style="width:100%">
            <div class="w3-container w3-display-topmiddle w3-padding-8 w3-white w3-round-xlarge" 
                 style="border:4px solid green">
              <h2 style="font-family: chalkboard, verdana, sans-serif;">{{ garden.caption_1 }}</h2>
            </div>
          </div>
        {% endif %}
        {% if garden.image_2 %}
          <div class="mySlides">
            <img src="{{ garden.image_2.url }}" alt="No garden image found" style="width:100%">
            <div class="w3-container w3-display-topmiddle w3-padding-8 w3-white w3-round-xlarge" 
                 style="border:4px solid green">
              <h2 style="font-family: chalkboard, verdana, sans-serif;">{{ garden.caption_2 }}</h2>
            </div>
          </div>
        {% endif %}
        {% if garden.image_3 %}
          <div class="mySlides">
            <img src="{{ garden.image_3.url }}" alt="No garden image found" style="width:100%">
            <div class="w3-container w3-display-topmiddle w3-padding-8 w3-white w3-round-xlarge" 
                 style="border:4px solid green">
              <h2 style="font-family: chalkboard, verdana, sans-serif;">{{ garden.caption_3 }}</h2>
            </div>
          </div>
        {% endif %}
        {% if garden.image_4 %}
          <div class="mySlides">
            <img src="{{ garden.image_4.url }}" alt="No garden image found" style="width:100%">
            <div class="w3-container w3-display-topmiddle w3-padding-8 w3-white w3-round-xlarge" 
                 style="border:4px solid green">
              <h2 style="font-family: chalkboard, verdana, sans-serif;">{{ garden.caption_4 }}</h2>
            </div>
          </div>
        {% endif %}
        {% if garden.image_5 %}
          <div class="mySlides">
            <img src="{{ garden.image_5.url }}" alt="No garden image found" style="width:100%">
            <div class="w3-container w3-display-topmiddle w3-padding-8 w3-white w3-round-xlarge" 
                 style="border:4px solid green">
              <h2 style="font-family: chalkboard, verdana, sans-serif;">{{ garden.caption_5 }}</h2>
            </div>
          </div>
        {% endif %}
        {% if garden.image_6 %}
          <div class="mySlides">
            <img src="{{ garden.image_6.url }}" alt="No garden image found" style="width:100%">
            <div class="w3-container w3-display-topmiddle w3-padding-8 w3-white w3-round-xlarge" 
                 style="border:4px solid green">
              <h2 style="font-family: chalkboard, verdana, sans-serif;">{{ garden.caption_6 }}</h2>
            </div>
          </div>
        {% endif %}
        {% if garden.image_7 %}
          <div class="mySlides">
            <img src="{{ garden.image_7.url }}" alt="No garden image found" style="width:100%">
            <div class="w3-container w3-display-topmiddle w3-padding-8 w3-white w3-round-xlarge" 
                 style="border:4px solid green">
              <h2 style="font-family: chalkboard, verdana, sans-serif;">{{ garden.caption_7 }}</h2>
            </div>
          </div>
        {% endif %}
        {% if garden.image_8 %}
          <div class="mySlides">
            <img src="{{ garden.image_8.url }}" alt="No garden image found" style="width:100%">
            <div class="w3-container w3-display-topmiddle w3-padding-8 w3-white w3-round-xlarge" 
                 style="border:4px solid green">
              <h2 style="font-family: chalkboard, verdana, sans-serif;">{{ garden.caption_8 }}</h2>
            </div>
          </div>
        {% endif %}
        <!-- Slide show -->
        <!-- AR: Display captions -->
        <div class="w3-center w3-container w3-section w3-large w3-text-white w3-display-bottommiddle" style="width:100%">
          <div class="w3-left  w3-xxlarge w3-hover-text-khaki" onclick="plusDivs(-1)">&#10094;</div>
          <div class="w3-right w3-xxlarge w3-hover-text-khaki" onclick="plusDivs(1)">&#10095;</div>
          <span class="w3-badge demo w3-border w3-transparent w3-hover-white " onclick="currentDiv(1)"></span>
          <span class="w3-badge demo w3-border w3-transparent w3-hover-white" onclick="currentDiv(2)"></span>
          <span class="w3-badge demo w3-border w3-transparent w3-hover-white" onclick="currentDiv(3)"></span>
          <span class="w3-badge demo w3-border w3-transparent w3-hover-white" onclick="currentDiv(4)"></span>
          <span class="w3-badge demo w3-border w3-transparent w3-hover-white" onclick="currentDiv(5)"></span>
          <span class="w3-badge demo w3-border w3-transparent w3-hover-white" onclick="currentDiv(6)"></span>
          <span class="w3-badge demo w3-border w3-transparent w3-hover-white" onclick="currentDiv(7)"></span>
          <span class="w3-badge demo w3-border w3-transparent w3-hover-white" onclick="currentDiv(8)"></span>
        </div>
      </div>
    {% endif %}
  </div>
{% endblock content%}

{% block js %}
<!-- Insert template Javascript here -->
<script>
  // Slideshow Javascript code
  var slideIndex = 1;
  showDivs(slideIndex);
    
  function plusDivs(n) {
    showDivs(slideIndex += n);
  }
    
  function currentDiv(n) {
    showDivs(slideIndex = n);
  }
    
  function showDivs(n) {
    var i;
    var x = document.getElementsByClassName("mySlides");
    var dots = document.getElementsByClassName("demo");
    if (n > x.length) {slideIndex = 1}
    if (n < 1) {slideIndex = x.length}
    for (i = 0; i < x.length; i++) {
      x[i].style.display = "none";  
    }
    for (i = 0; i < dots.length; i++) {
      dots[i].className = dots[i].className.replace(" w3-white", "");
    }
    x[slideIndex-1].style.display = "block";  
    dots[slideIndex-1].className += " w3-white";
  }
</script>
{% endblock js %}